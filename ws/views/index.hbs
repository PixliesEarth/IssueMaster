<h1> Displaying data for: {{servername}} </h1>

<iframe style="display: none;" name="dummyframe"></iframe>
<div class="div3">
    <canvas id="myChart" width="100" height="20%"></canvas>
    
<script>
    drawIT();




    async function drawIT() {

        const ctx = document.getElementById('myChart').getContext('2d');
        let labeling = [{{ label10 }}, {{ label9 }}, {{ label8 }}, {{ label7 }}, {{ label6 }}, {{ label5 }}, {{ label4 }}, {{ label3 }}, {{ label2 }}, {{ label1 }}];
    let userjoins = [{{ joins10 }}, {{ joins9 }}, {{ joins8 }}, {{ joins7 }}, {{ joins6 }}, {{ joins5 }}, {{ joins4 }}, {{ joins3 }}, {{ joins2 }}, {{ joins1 }}];
    let userleaves = [{{ leaves10 }}, {{ leaves9 }}, {{ leaves8 }}, {{ leaves7 }}, {{ leaves6 }}, {{ leaves5 }}, {{ leaves4 }}, {{ leaves3 }}, {{ leaves2 }}, {{ leaves1 }}];
    let totalmem = [{{ mem10 }}, {{ mem9 }}, {{ mem8 }}, {{ mem7 }}, {{ mem6 }}, {{ mem5 }}, {{ mem4 }}, {{ mem3 }}, {{ mem2 }}, {{ mem1 }}];

    const myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: labeling,
            datasets: [{
                label: 'Joins',
                data: userjoins,
                
              
                borderColor: [
                    'rgb(0, 236, 20)'

                ],
                borderWidth: 1
            },
            {
                label: 'Leaves',
                data: userleaves,

                borderColor: [

                    'rgb(173, 11, 11)'

                ],
                borderWidth: 1
            },
            {
                label: 'Membercount',
                data: totalmem,
                
                borderColor: [

                    'rgba(255, 206, 86, 1)'

                ],
                borderWidth: 1
            }

            ]
        },
        options: {
            Fill: false,
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
    }


</script>




<div class="div1">

<details>
        <summary>
            <strong>Raw Data / All Time History</strong>
        </summary>
    <div class="div2">
        {{#each chans}}        
        <li>{{this.timestamp}}: {{this.membercount}} Members {{this.joins}} Joins {{this.leaves}} Leaves</li>
        {{/each}}
         
    </div>
    
</details>
          
</div>

</div>